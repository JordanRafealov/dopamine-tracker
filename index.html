<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dopamine Digital â€” Project Tracker</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}

:root{
  --bg-deep:#101016;
  --bg-base:#16161e;
  --bg-surface:#1c1c26;
  --bg-card:#222230;
  --bg-card-hover:#2a2a3a;
  --bg-card-border:#333346;
  --bg-input:#1a1a24;
  --border:#2a2a3a;
  --border-glow:#7c3aed22;
  --text-primary:#e4e2ec;
  --text-secondary:#a09cb5;
  --text-muted:#706c85;
  --text-dim:#504c65;
  --purple:#7c3aed;
  --purple-light:#a78bfa;
  --purple-bright:#8b5cf6;
  --purple-dark:#5b21b6;
  --purple-glow:#7c3aed22;
  --purple-glow-strong:#7c3aed33;
  --cat-automation:#a855f7;
  --cat-kpi:#34d399;
  --cat-project:#22d3ee;
  --priority-high:#ef4444;
  --priority-med:#f59e0b;
  --priority-low:#22c55e;
  --shadow-card:0 2px 6px rgba(0,0,0,.3), 0 1px 2px rgba(0,0,0,.2);
  --shadow-card-hover:0 6px 20px rgba(0,0,0,.35), 0 2px 8px rgba(0,0,0,.25);
  --shadow-drag:0 16px 48px rgba(0,0,0,.4), 0 4px 12px rgba(0,0,0,.3);
  /* Column tints */
  --col-backlog:#1b1b25;
  --col-thisweek:#1a1c28;
  --col-inprogress:#1c1b22;
  --col-inreview:#1b1a26;
  --col-live:#1a1d24;
  --col-backlog-accent:#706c85;
  --col-thisweek-accent:#5b8af5;
  --col-inprogress-accent:#e8a838;
  --col-inreview-accent:#a078e8;
  --col-live-accent:#3ecf8e;
  --radius:10px;
  --radius-sm:6px;
  --radius-lg:14px;
  --radius-xl:18px;
  --font-heading:'JetBrains Mono',monospace;
  --font-body:'DM Sans',system-ui,sans-serif;
  --ease:cubic-bezier(.4,0,.2,1);
  --ease-spring:cubic-bezier(.34,1.56,.64,1);
  --transition:200ms var(--ease);
}

html{font-size:14px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
body{font-family:var(--font-body);background:var(--bg-deep);color:var(--text-primary);overflow-x:auto;min-height:100vh;display:flex;flex-direction:column;position:relative}

/* === SUBTLE BACKGROUND === */
body::before{
  content:"";position:fixed;inset:0;z-index:0;pointer-events:none;
  background:radial-gradient(ellipse 80% 50% at 50% 0%, rgba(124,58,237,.03) 0%, transparent 60%);
}

/* === HEADER === */
.header{
  padding:18px 28px 0;position:sticky;top:0;z-index:100;
  background:rgba(16,16,22,.97);
  backdrop-filter:blur(16px);border-bottom:1px solid var(--border);
}
.header-top{display:flex;align-items:center;justify-content:space-between;gap:16px;flex-wrap:wrap}
.brand{display:flex;align-items:baseline;gap:14px}
.brand h1{font-family:var(--font-heading);font-size:1.1rem;font-weight:700;letter-spacing:-.02em}
.brand h1 .dd{color:var(--purple-light)}
.brand .sep{color:var(--text-dim);margin:0 2px;font-weight:400}
.brand .subtitle{font-family:var(--font-heading);font-size:.82rem;font-weight:500;color:var(--text-muted);letter-spacing:.02em}

.header-actions{display:flex;align-items:center;gap:8px}
.search-wrap{position:relative}
.search-wrap svg{position:absolute;left:11px;top:50%;transform:translateY(-50%);width:14px;height:14px;color:var(--text-dim);pointer-events:none}
.search-box{
  background:var(--bg-input);border:1px solid var(--border);border-radius:var(--radius);
  padding:7px 12px 7px 32px;color:var(--text-primary);font-family:var(--font-body);font-size:.82rem;
  width:220px;outline:none;transition:all var(--transition);
}
.search-box:focus{border-color:var(--purple);box-shadow:0 0 0 3px var(--purple-glow)}
.search-box::placeholder{color:var(--text-dim)}

.toolbar-btn{
  background:var(--bg-input);border:1px solid var(--border);border-radius:var(--radius-sm);
  padding:7px 14px;font-size:.75rem;font-weight:600;color:var(--text-secondary);cursor:pointer;
  transition:all var(--transition);font-family:var(--font-heading);letter-spacing:.02em;
  display:inline-flex;align-items:center;gap:6px;
}
.toolbar-btn:hover{border-color:var(--purple);color:var(--purple-light);background:rgba(124,58,237,.08)}
.toolbar-btn svg{width:13px;height:13px}
.toolbar-btn.accent{background:linear-gradient(135deg, var(--purple-dark), var(--purple));color:#fff;border-color:var(--purple)}
.toolbar-btn.accent:hover{background:linear-gradient(135deg, var(--purple), var(--purple-bright));box-shadow:0 0 20px var(--purple-glow)}

/* === BOARD TABS === */
.tabs-row{display:flex;align-items:center;justify-content:space-between;margin-top:14px;gap:12px;flex-wrap:wrap}
.board-tabs{display:flex;gap:0}
.board-tab{
  background:transparent;border:none;border-bottom:2px solid transparent;
  padding:10px 24px;font-family:var(--font-heading);font-size:.82rem;font-weight:600;
  letter-spacing:.03em;color:var(--text-muted);cursor:pointer;transition:all var(--transition);
  position:relative;
}
.board-tab:hover{color:var(--text-secondary)}
.board-tab.active{color:var(--purple-light);border-bottom-color:var(--purple)}
.board-tab.active::after{
  content:"";position:absolute;bottom:-2px;left:30%;right:30%;height:1px;
  background:var(--purple-light);filter:blur(3px);opacity:.5;
}
.board-tab .tab-count{font-size:.68rem;opacity:.5;margin-left:6px;font-weight:400}

/* === FILTERS === */
.filters{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
.filter-select{
  background:var(--bg-input);border:1px solid var(--border);border-radius:var(--radius-sm);
  padding:6px 28px 6px 10px;color:var(--text-secondary);font-family:var(--font-body);
  font-size:.78rem;cursor:pointer;outline:none;transition:all var(--transition);
  appearance:none;-webkit-appearance:none;
  background-image:url("data:image/svg+xml,%3Csvg width='10' height='6' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1l4 4 4-4' stroke='%236b6188' stroke-width='1.5' fill='none' stroke-linecap='round'/%3E%3C/svg%3E");
  background-repeat:no-repeat;background-position:right 10px center;
}
.filter-select:focus{border-color:var(--purple);box-shadow:0 0 0 3px var(--purple-glow)}
.filter-label{font-size:.72rem;color:var(--text-dim);font-weight:600;text-transform:uppercase;letter-spacing:.06em;font-family:var(--font-heading)}

/* === BOARD === */
.board-area{flex:1;position:relative;z-index:1;overflow-x:auto;padding:20px 24px 24px}
.board{display:flex;gap:16px;min-height:calc(100vh - 180px);align-items:flex-start}

/* === COLUMNS === */
.column{
  min-width:280px;max-width:300px;flex:1;
  background:var(--col-backlog);border:1px solid var(--border);
  border-radius:var(--radius-lg);display:flex;flex-direction:column;
  position:relative;overflow:hidden;
}
.column[data-column="backlog"]{background:var(--col-backlog)}
.column[data-column="thisweek"]{background:var(--col-thisweek)}
.column[data-column="inprogress"]{background:var(--col-inprogress)}
.column[data-column="inreview"]{background:var(--col-inreview)}
.column[data-column="live"]{background:var(--col-live)}
.column::before{
  content:"";position:absolute;top:0;left:0;right:0;height:3px;
  background:var(--col-backlog-accent);opacity:.35;
}
.column[data-column="backlog"]::before{background:var(--col-backlog-accent)}
.column[data-column="thisweek"]::before{background:var(--col-thisweek-accent)}
.column[data-column="inprogress"]::before{background:var(--col-inprogress-accent)}
.column[data-column="inreview"]::before{background:var(--col-inreview-accent)}
.column[data-column="live"]::before{background:var(--col-live-accent)}
.column-header{
  padding:16px 16px 12px;display:flex;align-items:center;justify-content:space-between;
  border-bottom:1px solid rgba(42,42,58,.6);
}
.column-title{font-family:var(--font-heading);font-size:.72rem;font-weight:700;letter-spacing:.04em;text-transform:uppercase;color:var(--text-secondary)}
.column[data-column="backlog"] .column-title{color:var(--col-backlog-accent)}
.column[data-column="thisweek"] .column-title{color:var(--col-thisweek-accent)}
.column[data-column="inprogress"] .column-title{color:var(--col-inprogress-accent)}
.column[data-column="inreview"] .column-title{color:var(--col-inreview-accent)}
.column[data-column="live"] .column-title{color:var(--col-live-accent)}
.column-count{
  font-family:var(--font-heading);font-size:.65rem;font-weight:600;color:var(--text-dim);
  background:rgba(255,255,255,.04);padding:2px 8px;border-radius:20px;
  border:1px solid var(--border);
}
.column-body{flex:1;padding:8px 10px;overflow-y:auto;min-height:60px}
.column-body.drag-over{background:rgba(124,58,237,.06)}

/* === CARDS === */
.card{
  background:var(--bg-card);border:1px solid var(--bg-card-border);
  border-radius:var(--radius);padding:14px 16px;margin-bottom:10px;
  cursor:grab;transition:all 250ms var(--ease);position:relative;
  animation:cardIn 400ms var(--ease-spring) both;
  border-left:3px solid transparent;
}
.card:hover{
  background:var(--bg-card-hover);border-color:var(--bg-card-border);
  border-left-color:var(--purple-light);
  box-shadow:var(--shadow-card-hover);transform:translateY(-1px);
}
.card.dragging{
  opacity:.9;transform:rotate(1deg) scale(1.02);
  box-shadow:var(--shadow-drag);border-left-color:var(--purple);z-index:1000;cursor:grabbing;
}
/* Category-tinted left border */
.card[data-cat="Automation"]{border-left-color:rgba(168,85,247,.35)}
.card[data-cat="KPI"]{border-left-color:rgba(52,211,153,.35)}
.card[data-cat="Project"]{border-left-color:rgba(34,211,238,.35)}
@keyframes cardIn{
  from{opacity:0;transform:translateY(12px) scale(.97)}
  to{opacity:1;transform:translateY(0) scale(1)}
}

.card-top{display:flex;align-items:flex-start;justify-content:space-between;gap:8px;margin-bottom:8px}
.card-title{font-family:var(--font-heading);font-size:.82rem;font-weight:600;color:var(--text-primary);line-height:1.35;flex:1}
.card-priority{
  width:9px;height:9px;border-radius:50%;flex-shrink:0;margin-top:4px;
  box-shadow:0 0 6px currentColor;
}
.card-priority.high{background:var(--priority-high);color:var(--priority-high)}
.card-priority.medium{background:var(--priority-med);color:var(--priority-med)}
.card-priority.low{background:var(--priority-low);color:var(--priority-low)}

.card-meta{display:flex;align-items:center;gap:8px;margin-bottom:10px;flex-wrap:wrap}
.card-tag{
  font-family:var(--font-heading);font-size:.62rem;font-weight:700;letter-spacing:.05em;
  text-transform:uppercase;padding:3px 8px;border-radius:20px;
  color:#fff;line-height:1;
}
.card-tag.automation{background:rgba(168,85,247,.2);color:#c084fc;border:1px solid rgba(168,85,247,.25)}
.card-tag.kpi{background:rgba(52,211,153,.15);color:#6ee7b7;border:1px solid rgba(52,211,153,.2)}
.card-tag.project{background:rgba(34,211,238,.15);color:#67e8f9;border:1px solid rgba(34,211,238,.2)}

.card-owner{
  width:22px;height:22px;border-radius:50%;display:flex;align-items:center;justify-content:center;
  font-family:var(--font-heading);font-size:.55rem;font-weight:700;letter-spacing:.02em;
  border:1.5px solid var(--text-muted);color:var(--text-secondary);background:rgba(255,255,255,.04);
}
.card-owner.angela{border-color:var(--cat-kpi);color:var(--cat-kpi);background:rgba(52,211,153,.06)}

.card-desc{font-size:.76rem;color:var(--text-secondary);line-height:1.55;margin-bottom:8px}

.card-footer{display:flex;align-items:center;justify-content:space-between;gap:8px}
.card-date{font-family:var(--font-heading);font-size:.65rem;color:var(--text-dim);font-weight:500}
.card-link{
  font-family:var(--font-heading);font-size:.65rem;font-weight:600;color:var(--purple-light);
  text-decoration:none;transition:all var(--transition);display:inline-flex;align-items:center;gap:3px;
}
.card-link:hover{color:var(--text-primary)}
.card-link svg{width:10px;height:10px}

/* === ADD CARD BUTTON === */
.add-card-btn{
  width:calc(100% - 20px);padding:10px;margin:4px auto 8px;border:1px dashed var(--border);
  border-radius:var(--radius-sm);background:transparent;color:var(--text-dim);
  font-family:var(--font-heading);font-size:.75rem;font-weight:600;cursor:pointer;
  transition:all var(--transition);display:flex;align-items:center;justify-content:center;gap:6px;
}
.add-card-btn:hover{border-color:var(--purple);color:var(--purple-light);background:rgba(124,58,237,.06)}
.add-card-btn svg{width:14px;height:14px}

/* === MODAL === */
.modal-overlay{
  position:fixed;inset:0;z-index:9999;background:rgba(7,6,14,.85);
  backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;
  opacity:0;pointer-events:none;transition:opacity 300ms var(--ease);
}
.modal-overlay.open{opacity:1;pointer-events:all}
.modal{
  background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-xl);
  padding:32px;width:90%;max-width:520px;transform:translateY(20px) scale(.96);
  transition:transform 300ms var(--ease-spring);position:relative;
  box-shadow:0 40px 80px rgba(0,0,0,.5);
}
.modal-overlay.open .modal{transform:translateY(0) scale(1)}
.modal::before{
  content:"";position:absolute;top:-1px;left:30%;right:30%;height:2px;
  background:linear-gradient(90deg, transparent, var(--purple-light), transparent);border-radius:2px;opacity:.4;
}
.modal h2{font-family:var(--font-heading);font-size:1.1rem;font-weight:700;margin-bottom:24px;color:var(--text-primary)}
.modal-close{
  position:absolute;top:16px;right:16px;background:none;border:none;color:var(--text-muted);
  cursor:pointer;padding:4px;transition:color var(--transition);font-size:1.2rem;
}
.modal-close:hover{color:var(--text-primary)}

.form-group{margin-bottom:16px}
.form-group label{
  display:block;font-family:var(--font-heading);font-size:.7rem;font-weight:600;
  text-transform:uppercase;letter-spacing:.06em;color:var(--text-muted);margin-bottom:6px;
}
.form-group input,.form-group select,.form-group textarea{
  width:100%;background:var(--bg-input);border:1px solid var(--border);border-radius:var(--radius-sm);
  padding:9px 12px;color:var(--text-primary);font-family:var(--font-body);font-size:.85rem;
  outline:none;transition:all var(--transition);
}
.form-group input:focus,.form-group select:focus,.form-group textarea:focus{
  border-color:var(--purple);box-shadow:0 0 0 3px var(--purple-glow);
}
.form-group textarea{resize:vertical;min-height:80px;line-height:1.5}
.form-group select{
  appearance:none;-webkit-appearance:none;
  background-image:url("data:image/svg+xml,%3Csvg width='10' height='6' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1l4 4 4-4' stroke='%236b6188' stroke-width='1.5' fill='none' stroke-linecap='round'/%3E%3C/svg%3E");
  background-repeat:no-repeat;background-position:right 12px center;padding-right:32px;
}
.form-row{display:flex;gap:12px}
.form-row .form-group{flex:1}

.form-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:24px}
.btn{
  font-family:var(--font-heading);font-size:.78rem;font-weight:600;letter-spacing:.02em;
  padding:9px 20px;border-radius:var(--radius-sm);cursor:pointer;transition:all var(--transition);border:none;
}
.btn-primary{
  background:linear-gradient(135deg, var(--purple-dark), var(--purple));color:#fff;
  box-shadow:0 2px 12px var(--purple-glow);
}
.btn-primary:hover{background:linear-gradient(135deg, var(--purple), var(--purple-bright));box-shadow:0 4px 20px var(--purple-glow-strong)}
.btn-ghost{background:transparent;border:1px solid var(--border);color:var(--text-secondary)}
.btn-ghost:hover{border-color:var(--text-muted);color:var(--text-primary)}
.btn-danger{background:rgba(239,68,68,.15);color:#f87171;border:1px solid rgba(239,68,68,.2)}
.btn-danger:hover{background:rgba(239,68,68,.25)}

/* === FOOTER === */
.footer{
  padding:16px 28px;text-align:center;font-size:.7rem;color:var(--text-dim);
  font-family:var(--font-heading);letter-spacing:.04em;border-top:1px solid var(--border);
  position:relative;z-index:1;
}
.footer span{color:var(--purple-light)}

/* === SCROLLBAR === */
::-webkit-scrollbar{width:5px;height:5px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:10px}
::-webkit-scrollbar-thumb:hover{background:var(--purple-dark)}

/* === CONFIRM DIALOG === */
.confirm-overlay{
  position:fixed;inset:0;z-index:10000;background:rgba(7,6,14,.85);backdrop-filter:blur(6px);
  display:flex;align-items:center;justify-content:center;
  opacity:0;pointer-events:none;transition:opacity 200ms var(--ease);
}
.confirm-overlay.open{opacity:1;pointer-events:all}
.confirm-box{
  background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);
  padding:28px;max-width:380px;width:90%;text-align:center;
  box-shadow:0 20px 60px rgba(0,0,0,.5);
}
.confirm-box h3{font-family:var(--font-heading);font-size:.95rem;margin-bottom:8px}
.confirm-box p{font-size:.82rem;color:var(--text-secondary);margin-bottom:20px;line-height:1.5}
.confirm-actions{display:flex;gap:10px;justify-content:center}

/* === DRAG PLACEHOLDER === */
.drag-placeholder{
  border:2px dashed var(--purple);border-radius:var(--radius);
  background:rgba(124,58,237,.06);min-height:40px;margin-bottom:10px;
  transition:all 200ms var(--ease);
}

/* === RESPONSIVE === */
@media(max-width:768px){
  .header{padding:12px 16px 0}
  .header-top{gap:10px}
  .brand .subtitle{display:none}
  .search-box{width:160px}
  .board-area{padding:12px}
  .board{gap:12px}
  .column{min-width:260px}
  .form-row{flex-direction:column;gap:8px}
  .filters{gap:6px}
  .toolbar-btn span{display:none}
}

/* === EMPTY STATE === */
.empty-col{
  text-align:center;padding:24px 16px;color:var(--text-dim);font-size:.78rem;
  font-style:italic;
}

/* === TOAST === */
.toast{
  position:fixed;bottom:24px;right:24px;z-index:10001;
  background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius);
  padding:12px 20px;font-family:var(--font-heading);font-size:.78rem;color:var(--text-primary);
  box-shadow:0 8px 32px rgba(0,0,0,.4);transform:translateY(100px);opacity:0;
  transition:all 300ms var(--ease-spring);
}
.toast.show{transform:translateY(0);opacity:1}

/* === HELP MODAL === */
.help-modal{max-width:560px;max-height:80vh;overflow-y:auto}
.help-modal h2{margin-bottom:16px}
.help-content{font-size:.84rem;line-height:1.65;color:var(--text-secondary)}
.help-intro{margin-bottom:18px;font-size:.88rem;color:var(--text-primary)}
.help-section{margin-bottom:16px}
.help-section h3{font-family:var(--font-heading);font-size:.82rem;font-weight:700;color:var(--purple-light);margin-bottom:6px;letter-spacing:.02em}
.help-section ol,.help-section ul{padding-left:20px;margin:6px 0}
.help-section li{margin-bottom:4px}
.help-section code{background:var(--bg-card);padding:2px 6px;border-radius:4px;font-size:.76rem;color:var(--purple-light)}
.help-section p{margin-bottom:6px}
</style>
</head>
<body>

<!-- HEADER -->
<div class="header">
  <div class="header-top">
    <div class="brand">
      <h1><span class="dd">Dopamine Digital</span> <span class="sep">/</span> Project Tracker</h1>
    </div>
    <div class="header-actions">
      <div class="search-wrap">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><circle cx="10.5" cy="10.5" r="6.5"/><line x1="15.5" y1="15.5" x2="21" y2="21"/></svg>
        <input type="text" class="search-box" id="searchBox" placeholder="Search projects...">
      </div>
      <button class="toolbar-btn" id="btnHelp" title="How to use this board">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
        <span>Guide</span>
      </button>
      <button class="toolbar-btn" id="btnExport">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"/></svg>
        <span>Export</span>
      </button>
      <button class="toolbar-btn" id="btnImport">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8l-5-5-5 5M12 3v12"/></svg>
        <span>Import</span>
      </button>
      <input type="file" id="importFile" accept=".json" style="display:none">
    </div>
  </div>
  <div class="tabs-row">
    <div class="board-tabs">
      <button class="board-tab active" data-board="jordan">Jordan <span class="tab-count" id="countJordan">0</span></button>
      <button class="board-tab" data-board="angela">Angela <span class="tab-count" id="countAngela">0</span></button>
    </div>
    <div class="filters">
      <span class="filter-label">Category</span>
      <select class="filter-select" id="filterCategory">
        <option value="all">All</option>
        <option value="Automation">Automation</option>
        <option value="KPI">KPI</option>
        <option value="Project">Project</option>
      </select>
      <span class="filter-label">Owner</span>
      <select class="filter-select" id="filterOwner">
        <option value="all">All</option>
        <option value="Jordan">Jordan</option>
        <option value="Angela">Angela</option>
      </select>
    </div>
  </div>
</div>

<!-- BOARD AREA -->
<div class="board-area">
  <div class="board" id="board"></div>
</div>

<!-- FOOTER -->
<div class="footer">Dopamine Digital &copy; 2026 &mdash; Built with <span>Claude Code</span></div>

<!-- MODAL -->
<div class="modal-overlay" id="modalOverlay">
  <div class="modal">
    <button class="modal-close" id="modalClose">&times;</button>
    <h2 id="modalTitle">Add Project</h2>
    <form id="cardForm">
      <input type="hidden" id="formId">
      <input type="hidden" id="formColumn">
      <div class="form-group">
        <label>Title</label>
        <input type="text" id="formTitleInput" required placeholder="Project name">
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Category</label>
          <select id="formCategory">
            <option value="Automation">Automation</option>
            <option value="KPI">KPI</option>
            <option value="Project">Project</option>
          </select>
        </div>
        <div class="form-group">
          <label>Owner</label>
          <select id="formOwner">
            <option value="Jordan">Jordan</option>
            <option value="Angela">Angela</option>
          </select>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Priority</label>
          <select id="formPriority">
            <option value="high">High</option>
            <option value="medium">Medium</option>
            <option value="low">Low</option>
          </select>
        </div>
        <div class="form-group">
          <label>Due Date</label>
          <input type="date" id="formDueDate">
        </div>
      </div>
      <div class="form-group">
        <label>Description</label>
        <textarea id="formDesc" placeholder="What does this project do?"></textarea>
      </div>
      <div class="form-group">
        <label>Link (GitHub, Notion, etc.)</label>
        <input type="url" id="formLink" placeholder="https://...">
      </div>
      <div class="form-actions">
        <button type="button" class="btn btn-danger" id="btnDelete" style="display:none;margin-right:auto">Delete</button>
        <button type="button" class="btn btn-ghost" id="btnCancel">Cancel</button>
        <button type="submit" class="btn btn-primary" id="btnSave">Save</button>
      </div>
    </form>
  </div>
</div>

<!-- CONFIRM DIALOG -->
<div class="confirm-overlay" id="confirmOverlay">
  <div class="confirm-box">
    <h3>Delete project?</h3>
    <p>This action cannot be undone.</p>
    <div class="confirm-actions">
      <button class="btn btn-ghost" id="confirmNo">Cancel</button>
      <button class="btn btn-danger" id="confirmYes">Delete</button>
    </div>
  </div>
</div>

<!-- HELP MODAL -->
<div class="modal-overlay" id="helpOverlay">
  <div class="modal help-modal">
    <button class="modal-close" id="helpClose">&times;</button>
    <h2>How to Use This Board</h2>
    <div class="help-content">
      <p class="help-intro">This is the <strong>single source of truth</strong> for all Claude Code projects at Dopamine Digital. It updates in real-time in your browser.</p>

      <div class="help-section">
        <h3>Adding a project</h3>
        <ol>
          <li>Click the <strong>+ Add</strong> button at the bottom of any column</li>
          <li>Fill in the title, category, priority, and description</li>
          <li>Set yourself as the owner and add a due date if applicable</li>
          <li>Add a link to the GitHub repo, Notion page, or Google Doc</li>
          <li>Click <strong>Save</strong></li>
        </ol>
      </div>

      <div class="help-section">
        <h3>Moving projects through stages</h3>
        <p><strong>Drag and drop</strong> cards between columns as work progresses:</p>
        <ul>
          <li><strong>Backlog</strong> &mdash; planned but not started</li>
          <li><strong>This Week</strong> &mdash; committed to ship this week</li>
          <li><strong>In Progress</strong> &mdash; actively being worked on</li>
          <li><strong>In Review</strong> &mdash; built, waiting for someone else to test/import/verify</li>
          <li><strong>Live</strong> &mdash; shipped and operational</li>
        </ul>
      </div>

      <div class="help-section">
        <h3>Editing &amp; deleting</h3>
        <p><strong>Double-click</strong> any card to edit it. You can update the title, description, status, or delete it entirely.</p>
      </div>

      <div class="help-section">
        <h3>Switching boards</h3>
        <p>Use the <strong>Jordan / Angela</strong> tabs at the top. Each person has their own board. You can see what the other person is working on by clicking their tab.</p>
      </div>

      <div class="help-section">
        <h3>Filters &amp; search</h3>
        <p>Use the <strong>Category</strong> and <strong>Owner</strong> dropdowns to filter cards. The search box searches titles and descriptions.</p>
      </div>

      <div class="help-section">
        <h3>Export &amp; import</h3>
        <p><strong>Export</strong> saves the current board as a JSON file (backup). <strong>Import</strong> loads a previously exported file. Your data is saved automatically in your browser.</p>
      </div>

      <div class="help-section">
        <h3>Quick links</h3>
        <ul>
          <li><strong>Angela's board:</strong> <code>jordanrafealov.github.io/dopamine-tracker/#angela</code></li>
          <li><strong>Jordan's board:</strong> <code>jordanrafealov.github.io/dopamine-tracker/#jordan</code></li>
        </ul>
      </div>
    </div>
  </div>
</div>

<!-- TOAST -->
<div class="toast" id="toast"></div>

<script>
(function(){
'use strict';

const COLUMNS = ['backlog','thisweek','inprogress','inreview','live'];
const COL_LABELS = {backlog:'Backlog',thisweek:'This Week',inprogress:'In Progress',inreview:'In Review',live:'Live'};
const BOARDS = ['jordan','angela'];
const STORAGE_PREFIX = 'dd-tracker-v2-';

// ========== DEFAULT DATA ==========
const DEFAULT_JORDAN = {
  backlog:[
    {id:_id(),title:"Content Repurposing Engine",category:"Automation",owner:"Jordan",priority:"medium",description:"Podcast episodes \u2192 blog posts, LinkedIn posts, short clips. n8n + AI pipeline.",link:"",dueDate:""},
    {id:_id(),title:"Short-Form Clip Generator",category:"Automation",owner:"Jordan",priority:"low",description:"Auto-detect highlights in long-form video. Generate vertical clips with captions.",link:"",dueDate:""},
    {id:_id(),title:"AI Social Media Content Generator",category:"Automation",owner:"Jordan",priority:"low",description:"n8n template ready. Auto-generate social posts from existing content.",link:"",dueDate:""},
    {id:_id(),title:"Master Outbound SOP Builder",category:"Project",owner:"Jordan",priority:"medium",description:"Automated SOP generation tool. ICP \u2192 email \u2192 LinkedIn \u2192 podcast \u2192 reply handling pipeline.",link:"",dueDate:""}
  ],
  thisweek:[
    {id:_id(),title:"Slack Automations",category:"Automation",owner:"Jordan",priority:"medium",description:"Various Slack bot integrations \u2014 channel monitoring, automated responses, notification routing.",link:"",dueDate:""},
    {id:_id(),title:"ClickUp Automations",category:"Automation",owner:"Jordan",priority:"medium",description:"Task syncing, daily to-do generation, status update workflows via ClickUp API.",link:"",dueDate:""}
  ],
  inprogress:[
    {id:_id(),title:"Dopamine Digital Wiki",category:"Project",owner:"Jordan",priority:"high",description:"Notion wiki built with 28 Python scripts. Client profiles, team roles, sales process, KPI dashboard, delivery tracking.",link:"https://github.com/JordanRafealov/claude-skills",dueDate:""},
    {id:_id(),title:"Weekly 1:1 Trackers",category:"Project",owner:"Jordan",priority:"high",description:"Google Sheet trackers per team member. Role-specific KPIs, daily checklists, transparency reports.",link:"",dueDate:""},
    {id:_id(),title:"KPI Tracker System",category:"KPI",owner:"Jordan",priority:"high",description:"Daily + weekly KPI tracking for 4 clients and 4 team members. n8n collectors, Slack reporting, Google Sheets.",link:"https://github.com/JordanRafealov/dopamine-kpi-tracker",dueDate:""},
    {id:_id(),title:"Project Tracker (This Board)",category:"Project",owner:"Jordan",priority:"medium",description:"Kanban board for tracking all Claude Code projects. Two boards: Jordan + Angela. GitHub Pages.",link:"https://github.com/JordanRafealov/dopamine-tracker",dueDate:""}
  ],
  inreview:[],
  live:[
    {id:_id(),title:"YouTube Lead Response Automation",category:"Automation",owner:"Jordan",priority:"high",description:"v1.1 LIVE. 36-node n8n workflow. TypeForm \u2192 AI qualification \u2192 ClickUp/ActiveCampaign/Slack. All 3 paths tested.",link:"https://github.com/JordanRafealov/youtube-lead-response",dueDate:""},
    {id:_id(),title:"Cooper Bot (OpenClaw)",category:"Project",owner:"Jordan",priority:"high",description:"AI assistant on Mac Mini. Morning messages, daily backup cron, Slack/Telegram escalation. Fully operational.",link:"https://github.com/JordanRafealov/cooper-brain",dueDate:""},
    {id:_id(),title:"StudyApp \u2014 Learning Quiz",category:"Project",owner:"Jordan",priority:"low",description:"Single-file HTML quiz app. Flashcards, multiple choice, progress tracking. Deployed on GitHub Pages (private repo).",link:"",dueDate:""},
    {id:_id(),title:"Hubstaff Tracking Report",category:"Automation",owner:"Jordan",priority:"medium",description:"Daily Slack report to #team-logs. Hours + activity % per team member. Runs 1 AM Bangkok Tue-Sat.",link:"",dueDate:""},
    {id:_id(),title:"ClickUp Task Reminders",category:"Automation",owner:"Jordan",priority:"medium",description:"3x daily Slack reminders. Jordan overview at 9 AM, Sophia at 10 AM, Angela/Filip/Rodney at 3 PM. Board links.",link:"",dueDate:""},
    {id:_id(),title:"YouTube Leads Telegram Monitor",category:"Automation",owner:"Jordan",priority:"high",description:"Runs every 2 min. Monitors #youtube-leads channel, sends Telegram alert for qualified/needs-clarification leads.",link:"",dueDate:""}
  ]
};

const DEFAULT_ANGELA = {
  backlog:[
    {id:_id(),title:"Weekly KPI Report Workflow",category:"KPI",owner:"Angela",priority:"medium",description:"Monday cron: week-over-week trends. Compare current vs prior week across all KPIs.",link:"",dueDate:""},
    {id:_id(),title:"Stale Lead Checker",category:"KPI",owner:"Angela",priority:"medium",description:"Every 4 hours: cross-reference ClickUp + Slack for leads with no activity in 48+ hours.",link:"",dueDate:""},
    {id:_id(),title:"Slack Daily Task Sync",category:"KPI",owner:"Angela",priority:"medium",description:"/starting my day command syncs ClickUp tasks to Slack. Personal daily briefing.",link:"",dueDate:""},
    {id:_id(),title:"Sophia Inbox Alert",category:"KPI",owner:"Angela",priority:"medium",description:"Every 30 min: check Instantly unread count \u2192 Slack alert if inbox unattended.",link:"",dueDate:""},
    {id:_id(),title:"AI SDR Workflow",category:"Automation",owner:"Angela",priority:"medium",description:"AI lead qualification from n8n template library. Auto-score and route inbound leads.",link:"",dueDate:""},
    {id:_id(),title:"Content Repurposing Engine",category:"Automation",owner:"Angela",priority:"low",description:"Podcast \u2192 blog posts, clips, LinkedIn posts. Collaborative with Jordan\u2019s build.",link:"",dueDate:""}
  ],
  thisweek:[
    {id:_id(),title:"Daily KPI Collector Workflow",category:"KPI",owner:"Angela",priority:"high",description:"n8n daily cron: collect metrics from ClickUp, Instantly, HeyReach, Slack. Feed into dashboard.",link:"",dueDate:""},
    {id:_id(),title:"Daily KPI Report Workflow",category:"KPI",owner:"Angela",priority:"high",description:"Posts daily KPI summary to #kpi-reports Slack channel. Team activity, send volumes, response times.",link:"",dueDate:""}
  ],
  inprogress:[
    {id:_id(),title:"AI Auto-Reply Bot (ODF)",category:"Automation",owner:"Angela",priority:"high",description:"n8n + Claude. Auto-qualify and respond to outbound replies within 60 seconds. ODF is primary test client.",link:"",dueDate:"2026-02-03"}
  ],
  inreview:[],
  live:[
    {id:_id(),title:"Daily Operations Scanner",category:"KPI",owner:"Angela",priority:"high",description:"28-node n8n workflow. Scans stale ClickUp tasks, Instantly send volume, stuck podcast guests. Posts to #kpi-reports daily.",link:"",dueDate:""},
    {id:_id(),title:"Podcast Reschedule Automation",category:"Automation",owner:"Angela",priority:"medium",description:"27-node n8n workflow. 3-touch email sequence for stuck guests. Tracks in Google Sheet, marks cold after 10 days.",link:"",dueDate:""}
  ]
};

// ========== STATE ==========
let currentBoard = 'jordan';
let boardData = {};
let dragCard = null;
let dragSource = null;
let editingId = null;

// ========== HELPERS ==========
function _id(){ return Math.random().toString(36).substr(2,9) + Date.now().toString(36) }

function loadBoard(name){
  const raw = localStorage.getItem(STORAGE_PREFIX + name);
  if(raw){
    try{ return JSON.parse(raw) }catch(e){}
  }
  return name === 'jordan' ? JSON.parse(JSON.stringify(DEFAULT_JORDAN)) : JSON.parse(JSON.stringify(DEFAULT_ANGELA));
}

function saveBoard(name, data){
  localStorage.setItem(STORAGE_PREFIX + name, JSON.stringify(data));
}

function totalCards(data){
  return COLUMNS.reduce((s,c) => s + (data[c]||[]).length, 0);
}

// ========== INIT ==========
function init(){
  BOARDS.forEach(b => { boardData[b] = loadBoard(b) });
  const hash = location.hash.replace('#','');
  if(BOARDS.includes(hash)) currentBoard = hash;
  renderTabs();
  renderBoard();
  bindEvents();
}

// ========== RENDER ==========
function renderTabs(){
  document.querySelectorAll('.board-tab').forEach(tab => {
    const b = tab.dataset.board;
    tab.classList.toggle('active', b === currentBoard);
    const count = totalCards(boardData[b]);
    tab.querySelector('.tab-count').textContent = count;
  });
}

function renderBoard(){
  const board = document.getElementById('board');
  const data = boardData[currentBoard];
  const search = document.getElementById('searchBox').value.toLowerCase();
  const catFilter = document.getElementById('filterCategory').value;
  const ownerFilter = document.getElementById('filterOwner').value;

  board.innerHTML = '';
  COLUMNS.forEach(col => {
    const cards = (data[col]||[]).filter(c => {
      if(search && !c.title.toLowerCase().includes(search) && !c.description.toLowerCase().includes(search)) return false;
      if(catFilter !== 'all' && c.category !== catFilter) return false;
      if(ownerFilter !== 'all' && c.owner !== ownerFilter) return false;
      return true;
    });

    const colEl = document.createElement('div');
    colEl.className = 'column';
    colEl.dataset.column = col;
    colEl.innerHTML = `
      <div class="column-header">
        <span class="column-title">${COL_LABELS[col]}</span>
        <span class="column-count">${cards.length}</span>
      </div>
      <div class="column-body" data-column="${col}">
        ${cards.length === 0 ? '<div class="empty-col">No projects</div>' : ''}
        ${cards.map((c, i) => renderCard(c, i)).join('')}
      </div>
      <button class="add-card-btn" data-column="${col}">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        Add
      </button>
    `;
    board.appendChild(colEl);
  });
  renderTabs();
}

function renderCard(c, delay){
  const catClass = c.category.toLowerCase();
  const ownerClass = c.owner === 'Angela' ? ' angela' : '';
  const initials = c.owner === 'Jordan' ? 'JR' : 'AP';
  const dateStr = c.dueDate ? formatDate(c.dueDate) : '';
  const linkHtml = c.link ? `<a class="card-link" href="${esc(c.link)}" target="_blank" rel="noopener" onclick="event.stopPropagation()">Open <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M7 17L17 7M17 7H7M17 7v10"/></svg></a>` : '';

  return `<div class="card" draggable="true" data-id="${c.id}" data-cat="${esc(c.category)}" style="animation-delay:${delay * 40}ms" ondblclick="window._editCard('${c.id}')">
    <div class="card-top">
      <div class="card-title">${esc(c.title)}</div>
      <div class="card-priority ${c.priority}" title="${c.priority} priority"></div>
    </div>
    <div class="card-meta">
      <span class="card-tag ${catClass}">${esc(c.category)}</span>
      <span class="card-owner${ownerClass}" title="${esc(c.owner)}">${initials}</span>
    </div>
    <div class="card-desc">${esc(c.description)}</div>
    <div class="card-footer">
      <span class="card-date">${dateStr}</span>
      ${linkHtml}
    </div>
  </div>`;
}

function formatDate(d){
  if(!d) return '';
  const dt = new Date(d + 'T00:00:00');
  const months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
  return `${months[dt.getMonth()]} ${dt.getDate()}`;
}

function esc(s){ if(!s) return ''; const d=document.createElement('div'); d.textContent=s; return d.innerHTML; }

// ========== EVENTS ==========
function bindEvents(){
  // Tabs
  document.querySelectorAll('.board-tab').forEach(tab => {
    tab.addEventListener('click', () => {
      currentBoard = tab.dataset.board;
      history.replaceState(null, '', '#' + currentBoard);
      renderTabs();
      renderBoard();
    });
  });

  // Search & filters
  document.getElementById('searchBox').addEventListener('input', renderBoard);
  document.getElementById('filterCategory').addEventListener('change', renderBoard);
  document.getElementById('filterOwner').addEventListener('change', renderBoard);

  // Drag & drop delegation
  document.getElementById('board').addEventListener('dragstart', onDragStart);
  document.getElementById('board').addEventListener('dragend', onDragEnd);
  document.getElementById('board').addEventListener('dragover', onDragOver);
  document.getElementById('board').addEventListener('drop', onDrop);
  document.getElementById('board').addEventListener('dragleave', onDragLeave);

  // Add card buttons
  document.getElementById('board').addEventListener('click', e => {
    const btn = e.target.closest('.add-card-btn');
    if(btn) openModal(null, btn.dataset.column);
  });

  // Modal
  document.getElementById('modalClose').addEventListener('click', closeModal);
  document.getElementById('btnCancel').addEventListener('click', closeModal);
  document.getElementById('modalOverlay').addEventListener('click', e => { if(e.target === e.currentTarget) closeModal() });
  document.getElementById('cardForm').addEventListener('submit', onSaveCard);
  document.getElementById('btnDelete').addEventListener('click', onDeleteCard);

  // Confirm
  document.getElementById('confirmNo').addEventListener('click', closeConfirm);

  // Help
  document.getElementById('btnHelp').addEventListener('click', () => document.getElementById('helpOverlay').classList.add('open'));
  document.getElementById('helpClose').addEventListener('click', () => document.getElementById('helpOverlay').classList.remove('open'));
  document.getElementById('helpOverlay').addEventListener('click', e => { if(e.target === e.currentTarget) document.getElementById('helpOverlay').classList.remove('open') });

  // Export / Import
  document.getElementById('btnExport').addEventListener('click', onExport);
  document.getElementById('btnImport').addEventListener('click', () => document.getElementById('importFile').click());
  document.getElementById('importFile').addEventListener('change', onImport);

  // Keyboard
  document.addEventListener('keydown', e => {
    if(e.key === 'Escape'){ closeModal(); closeConfirm(); document.getElementById('helpOverlay').classList.remove('open'); }
  });
}

// ========== DRAG & DROP ==========
function onDragStart(e){
  const card = e.target.closest('.card');
  if(!card) return;
  dragCard = card.dataset.id;
  dragSource = card.closest('.column-body').dataset.column;
  card.classList.add('dragging');
  e.dataTransfer.effectAllowed = 'move';
  e.dataTransfer.setData('text/plain', dragCard);
}

function onDragEnd(e){
  const card = e.target.closest('.card');
  if(card) card.classList.remove('dragging');
  document.querySelectorAll('.column-body').forEach(cb => cb.classList.remove('drag-over'));
  document.querySelectorAll('.drag-placeholder').forEach(p => p.remove());
  dragCard = null;
  dragSource = null;
}

function onDragOver(e){
  e.preventDefault();
  e.dataTransfer.dropEffect = 'move';
  const body = e.target.closest('.column-body');
  if(!body) return;
  body.classList.add('drag-over');

  const existing = body.querySelector('.drag-placeholder');
  if(!existing){
    const ph = document.createElement('div');
    ph.className = 'drag-placeholder';
    body.appendChild(ph);
  }
}

function onDragLeave(e){
  const body = e.target.closest('.column-body');
  if(body && !body.contains(e.relatedTarget)){
    body.classList.remove('drag-over');
    const ph = body.querySelector('.drag-placeholder');
    if(ph) ph.remove();
  }
}

function onDrop(e){
  e.preventDefault();
  const body = e.target.closest('.column-body');
  if(!body || !dragCard) return;
  const targetCol = body.dataset.column;
  const data = boardData[currentBoard];

  let card = null;
  for(const col of COLUMNS){
    const idx = (data[col]||[]).findIndex(c => c.id === dragCard);
    if(idx >= 0){
      card = data[col].splice(idx, 1)[0];
      break;
    }
  }
  if(!card) return;

  if(!data[targetCol]) data[targetCol] = [];
  data[targetCol].push(card);
  saveBoard(currentBoard, data);
  renderBoard();
  toast(`Moved to ${COL_LABELS[targetCol]}`);
}

// ========== MODAL ==========
function openModal(cardId, column){
  editingId = cardId;
  const modal = document.getElementById('modalOverlay');
  const form = document.getElementById('cardForm');
  const del = document.getElementById('btnDelete');
  form.reset();

  if(cardId){
    document.getElementById('modalTitle').textContent = 'Edit Project';
    del.style.display = '';
    const data = boardData[currentBoard];
    let card = null;
    for(const col of COLUMNS){
      card = (data[col]||[]).find(c => c.id === cardId);
      if(card){ document.getElementById('formColumn').value = col; break; }
    }
    if(!card) return;
    document.getElementById('formId').value = card.id;
    document.getElementById('formTitleInput').value = card.title;
    document.getElementById('formCategory').value = card.category;
    document.getElementById('formOwner').value = card.owner;
    document.getElementById('formPriority').value = card.priority;
    document.getElementById('formDueDate').value = card.dueDate || '';
    document.getElementById('formDesc').value = card.description;
    document.getElementById('formLink').value = card.link || '';
  } else {
    document.getElementById('modalTitle').textContent = 'Add Project';
    del.style.display = 'none';
    document.getElementById('formColumn').value = column || 'backlog';
    document.getElementById('formOwner').value = currentBoard === 'angela' ? 'Angela' : 'Jordan';
  }
  modal.classList.add('open');
  setTimeout(() => document.getElementById('formTitleInput').focus(), 100);
}

function closeModal(){
  document.getElementById('modalOverlay').classList.remove('open');
  editingId = null;
}

function onSaveCard(e){
  e.preventDefault();
  const data = boardData[currentBoard];
  const card = {
    id: document.getElementById('formId').value || _id(),
    title: document.getElementById('formTitleInput').value.trim(),
    category: document.getElementById('formCategory').value,
    owner: document.getElementById('formOwner').value,
    priority: document.getElementById('formPriority').value,
    dueDate: document.getElementById('formDueDate').value,
    description: document.getElementById('formDesc').value.trim(),
    link: document.getElementById('formLink').value.trim()
  };
  if(!card.title) return;

  if(editingId){
    for(const col of COLUMNS){
      const idx = (data[col]||[]).findIndex(c => c.id === editingId);
      if(idx >= 0){ data[col][idx] = card; break; }
    }
    toast('Project updated');
  } else {
    const col = document.getElementById('formColumn').value;
    if(!data[col]) data[col] = [];
    data[col].push(card);
    toast('Project added');
  }
  saveBoard(currentBoard, data);
  closeModal();
  renderBoard();
}

window._editCard = function(id){ openModal(id) };

// ========== DELETE ==========
let pendingDeleteId = null;
function onDeleteCard(){
  pendingDeleteId = editingId;
  document.getElementById('confirmOverlay').classList.add('open');
}
function closeConfirm(){ document.getElementById('confirmOverlay').classList.remove('open'); pendingDeleteId = null; }
document.getElementById('confirmYes').addEventListener('click', () => {
  if(!pendingDeleteId) return;
  const data = boardData[currentBoard];
  for(const col of COLUMNS){
    const idx = (data[col]||[]).findIndex(c => c.id === pendingDeleteId);
    if(idx >= 0){ data[col].splice(idx, 1); break; }
  }
  saveBoard(currentBoard, data);
  closeConfirm();
  closeModal();
  renderBoard();
  toast('Project deleted');
});

// ========== EXPORT / IMPORT ==========
function onExport(){
  const data = boardData[currentBoard];
  const blob = new Blob([JSON.stringify(data, null, 2)], {type:'application/json'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = `dd-tracker-${currentBoard}-${new Date().toISOString().slice(0,10)}.json`;
  a.click();
  URL.revokeObjectURL(url);
  toast('Exported ' + currentBoard + ' board');
}

function onImport(e){
  const file = e.target.files[0];
  if(!file) return;
  const reader = new FileReader();
  reader.onload = function(ev){
    try{
      const imported = JSON.parse(ev.target.result);
      let valid = true;
      COLUMNS.forEach(c => { if(!Array.isArray(imported[c])) valid = false; });
      if(!valid){ toast('Invalid file format'); return; }
      boardData[currentBoard] = imported;
      saveBoard(currentBoard, imported);
      renderBoard();
      toast('Imported successfully');
    }catch(err){ toast('Import failed: invalid JSON'); }
  };
  reader.readAsText(file);
  e.target.value = '';
}

// ========== TOAST ==========
function toast(msg){
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  clearTimeout(t._timer);
  t._timer = setTimeout(() => t.classList.remove('show'), 2500);
}

// ========== GO ==========
init();

})();
</script>
</body>
</html>